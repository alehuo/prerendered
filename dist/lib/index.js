(function e(r,t){if(typeof exports==="object"&&typeof module==="object")module.exports=t();else if(typeof define==="function"&&define.amd)define("prerendered",[],t);else if(typeof exports==="object")exports["prerendered"]=t();else r["prerendered"]=t()})(this,(function(){return function(e){var r={};function t(n){if(r[n]){return r[n].exports}var i=r[n]={i:n,l:false,exports:{}};e[n].call(i.exports,i,i.exports,t);i.l=true;return i.exports}t.m=e;t.c=r;t.d=function(e,r,n){if(!t.o(e,r)){Object.defineProperty(e,r,{enumerable:true,get:n})}};t.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};t.t=function(e,r){if(r&1)e=t(e);if(r&8)return e;if(r&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);t.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(r&2&&typeof e!="string")for(var i in e)t.d(n,i,function(r){return e[r]}.bind(null,i));return n};t.n=function(e){var r=e&&e.__esModule?function r(){return e["default"]}:function r(){return e};t.d(r,"a",r);return r};t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)};t.p="";return t(t.s=4)}([function(e,r){var t=e.exports={};var n;var i;function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=o}}catch(e){n=o}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=u}}catch(e){i=u}})();function a(e){if(n===setTimeout){return setTimeout(e,0)}if((n===o||!n)&&setTimeout){n=setTimeout;return setTimeout(e,0)}try{return n(e,0)}catch(r){try{return n.call(null,e,0)}catch(r){return n.call(this,e,0)}}}function c(e){if(i===clearTimeout){return clearTimeout(e)}if((i===u||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(r){try{return i.call(null,e)}catch(r){return i.call(this,e)}}}var f=[];var l=false;var s;var p=-1;function d(){if(!l||!s){return}l=false;if(s.length){f=s.concat(f)}else{p=-1}if(f.length){h()}}function h(){if(l){return}var e=a(d);l=true;var r=f.length;while(r){s=f;f=[];while(++p<r){if(s){s[p].run()}}p=-1;r=f.length}s=null;l=false;c(e)}t.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1){for(var t=1;t<arguments.length;t++){r[t-1]=arguments[t]}}f.push(new v(e,r));if(f.length===1&&!l){a(h)}};function v(e,r){this.fun=e;this.array=r}v.prototype.run=function(){this.fun.apply(null,this.array)};t.title="browser";t.browser=true;t.env={};t.argv=[];t.version="";t.versions={};function m(){}t.on=m;t.addListener=m;t.once=m;t.off=m;t.removeListener=m;t.removeAllListeners=m;t.emit=m;t.prependListener=m;t.prependOnceListener=m;t.listeners=function(e){return[]};t.binding=function(e){throw new Error("process.binding is not supported")};t.cwd=function(){return"/"};t.chdir=function(e){throw new Error("process.chdir is not supported")};t.umask=function(){return 0}},function(e,r){e.exports=require("react")},function(e,r,t){"use strict";var n=this&&this.__assign||function(){n=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i))e[i]=r[i]}return e};return n.apply(this,arguments)};var i=this&&this.__rest||function(e,r){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0)t[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++){if(r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i]))t[n[i]]=e[n[i]]}return t};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:true});r.Template=void 0;var u=o(t(1));r.Template=function(e){var r=e.helmet,t=e.markup;var o=r.htmlAttributes.toComponent();var a=r.bodyAttributes.toComponent();var c=o.lang,f=i(o,["lang"]);return u.default.createElement("html",n({lang:c||"en"},f),u.default.createElement("head",null,r.title.toComponent(),r.meta.toComponent(),r.link.toComponent()),u.default.createElement("body",n({},a),u.default.createElement("div",{id:"app",dangerouslySetInnerHTML:{__html:t}})))}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.cspNonceMiddleware=void 0;var n=t(10);r.cspNonceMiddleware=function(e,r){r.locals.cspNonce=n.randomBytes(16).toString("hex")}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.cspNonceMiddleware=r.Template=r.PrerenderedExpess=void 0;var n=t(5);Object.defineProperty(r,"PrerenderedExpess",{enumerable:true,get:function(){return n.prerendered}});var i=t(2);Object.defineProperty(r,"Template",{enumerable:true,get:function(){return i.Template}});var o=t(3);Object.defineProperty(r,"cspNonceMiddleware",{enumerable:true,get:function(){return o.cspNonceMiddleware}})},function(e,r,t){"use strict";(function(e){var n=this&&this.__awaiter||function(e,r,t,n){function i(e){return e instanceof t?e:new t((function(r){r(e)}))}return new(t||(t=Promise))((function(t,o){function u(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n["throw"](e))}catch(e){o(e)}}function c(e){e.done?t(e.value):i(e.value).then(u,a)}c((n=n.apply(e,r||[])).next())}))};var i=this&&this.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,u;return u={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(e){return function(r){return c([e,r])}}function c(u){if(n)throw new TypeError("Generator is already executing.");while(t)try{if(n=1,i&&(o=u[0]&2?i["return"]:u[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;if(i=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:t.label++;return{value:u[1],done:false};case 5:t.label++;i=u[1];u=[0];continue;case 7:u=t.ops.pop();t.trys.pop();continue;default:if(!(o=t.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1];o=u;break}if(o&&t.label<o[2]){t.label=o[2];t.ops.push(u);break}if(o[2])t.ops.pop();t.trys.pop();continue}u=r.call(e,t)}catch(e){u=[6,e];i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:true});r.prerendered=void 0;var u=o(t(1));var a=t(6);var c=o(t(7));var f=t(8);var l=t(9);var s=t(2);var p=t(3);var d=function(e){return function(r,t,n){if(e.nonce){p.cspNonceMiddleware(r,t)}n()}};var h=function(e){return n(void 0,void 0,void 0,(function(){var r,t;return i(this,(function(n){r=Object.keys(e);t=r.map((function(r){return e[r]}));return[2,Promise.all(t).then((function(e){return e.reduce((function(e,t,n){e[r[n]]=t;return e}),{})}))]}))}))};function v(e){return function(r,t){var n=a.renderToStaticMarkup(e);var i=f.Helmet.renderStatic();var o=a.renderToStaticMarkup(u.default.createElement(s.Template,{markup:n,helmet:i}));return t.status(200).send(o)}}function m(e){return function(r){return function(t,n){h(e).then((function(e){var i=r(e);var o=v(i);o(t,n)})).catch((function(e){throw new Error(e)}))}}}r.prerendered=function(r){console.info("Starting Prerendered");var t=l.resolve(e.cwd(),".prerendered","static");console.info("Mapping /static path to folder %s",t);r.use("/static",c.default.static(t));return{middleware:d,render:m}}}).call(this,t(0))},function(e,r){e.exports=require("react-dom/server")},function(e,r){e.exports=require("express")},function(e,r){e.exports=require("react-helmet")},function(e,r,t){(function(e){function t(e,r){var t=0;for(var n=e.length-1;n>=0;n--){var i=e[n];if(i==="."){e.splice(n,1)}else if(i===".."){e.splice(n,1);t++}else if(t){e.splice(n,1);t--}}if(r){for(;t--;t){e.unshift("..")}}return e}r.resolve=function(){var r="",n=false;for(var o=arguments.length-1;o>=-1&&!n;o--){var u=o>=0?arguments[o]:e.cwd();if(typeof u!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!u){continue}r=u+"/"+r;n=u.charAt(0)==="/"}r=t(i(r.split("/"),(function(e){return!!e})),!n).join("/");return(n?"/":"")+r||"."};r.normalize=function(e){var n=r.isAbsolute(e),u=o(e,-1)==="/";e=t(i(e.split("/"),(function(e){return!!e})),!n).join("/");if(!e&&!n){e="."}if(e&&u){e+="/"}return(n?"/":"")+e};r.isAbsolute=function(e){return e.charAt(0)==="/"};r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(i(e,(function(e,r){if(typeof e!=="string"){throw new TypeError("Arguments to path.join must be strings")}return e})).join("/"))};r.relative=function(e,t){e=r.resolve(e).substr(1);t=r.resolve(t).substr(1);function n(e){var r=0;for(;r<e.length;r++){if(e[r]!=="")break}var t=e.length-1;for(;t>=0;t--){if(e[t]!=="")break}if(r>t)return[];return e.slice(r,t-r+1)}var i=n(e.split("/"));var o=n(t.split("/"));var u=Math.min(i.length,o.length);var a=u;for(var c=0;c<u;c++){if(i[c]!==o[c]){a=c;break}}var f=[];for(var c=a;c<i.length;c++){f.push("..")}f=f.concat(o.slice(a));return f.join("/")};r.sep="/";r.delimiter=":";r.dirname=function(e){if(typeof e!=="string")e=e+"";if(e.length===0)return".";var r=e.charCodeAt(0);var t=r===47;var n=-1;var i=true;for(var o=e.length-1;o>=1;--o){r=e.charCodeAt(o);if(r===47){if(!i){n=o;break}}else{i=false}}if(n===-1)return t?"/":".";if(t&&n===1){return"/"}return e.slice(0,n)};function n(e){if(typeof e!=="string")e=e+"";var r=0;var t=-1;var n=true;var i;for(i=e.length-1;i>=0;--i){if(e.charCodeAt(i)===47){if(!n){r=i+1;break}}else if(t===-1){n=false;t=i+1}}if(t===-1)return"";return e.slice(r,t)}r.basename=function(e,r){var t=n(e);if(r&&t.substr(-1*r.length)===r){t=t.substr(0,t.length-r.length)}return t};r.extname=function(e){if(typeof e!=="string")e=e+"";var r=-1;var t=0;var n=-1;var i=true;var o=0;for(var u=e.length-1;u>=0;--u){var a=e.charCodeAt(u);if(a===47){if(!i){t=u+1;break}continue}if(n===-1){i=false;n=u+1}if(a===46){if(r===-1)r=u;else if(o!==1)o=1}else if(r!==-1){o=-1}}if(r===-1||n===-1||o===0||o===1&&r===n-1&&r===t+1){return""}return e.slice(r,n)};function i(e,r){if(e.filter)return e.filter(r);var t=[];for(var n=0;n<e.length;n++){if(r(e[n],n,e))t.push(e[n])}return t}var o="ab".substr(-1)==="b"?function(e,r,t){return e.substr(r,t)}:function(e,r,t){if(r<0)r=e.length+r;return e.substr(r,t)}}).call(this,t(0))},function(e,r,t){"use strict";r.randomBytes=r.rng=r.pseudoRandomBytes=r.prng=t(11);r.createHash=r.Hash=t(12);r.createHmac=r.Hmac=t(13);var n=t(14);var i=Object.keys(n);var o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);r.getHashes=function(){return o};var u=t(15);r.pbkdf2=u.pbkdf2;r.pbkdf2Sync=u.pbkdf2Sync;var a=t(16);r.Cipher=a.Cipher;r.createCipher=a.createCipher;r.Cipheriv=a.Cipheriv;r.createCipheriv=a.createCipheriv;r.Decipher=a.Decipher;r.createDecipher=a.createDecipher;r.Decipheriv=a.Decipheriv;r.createDecipheriv=a.createDecipheriv;r.getCiphers=a.getCiphers;r.listCiphers=a.listCiphers;var c=t(17);r.DiffieHellmanGroup=c.DiffieHellmanGroup;r.createDiffieHellmanGroup=c.createDiffieHellmanGroup;r.getDiffieHellman=c.getDiffieHellman;r.createDiffieHellman=c.createDiffieHellman;r.DiffieHellman=c.DiffieHellman;var f=t(18);r.createSign=f.createSign;r.Sign=f.Sign;r.createVerify=f.createVerify;r.Verify=f.Verify;r.createECDH=t(19);var l=t(20);r.publicEncrypt=l.publicEncrypt;r.privateEncrypt=l.privateEncrypt;r.publicDecrypt=l.publicDecrypt;r.privateDecrypt=l.privateDecrypt;var s=t(21);r.randomFill=s.randomFill;r.randomFillSync=s.randomFillSync;r.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))};r.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,r){e.exports=require("randombytes")},function(e,r){e.exports=require("create-hash")},function(e,r){e.exports=require("create-hmac")},function(e,r){e.exports=require("browserify-sign/algos")},function(e,r){e.exports=require("pbkdf2")},function(e,r){e.exports=require("browserify-cipher")},function(e,r){e.exports=require("diffie-hellman")},function(e,r){e.exports=require("browserify-sign")},function(e,r){e.exports=require("create-ecdh")},function(e,r){e.exports=require("public-encrypt")},function(e,r){e.exports=require("randomfill")}])}));
//# sourceMappingURL=index.js.map